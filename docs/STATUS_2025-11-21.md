# CV-Git Project Status - November 21, 2025

## Current State

### Version
- All packages at v0.2.0
- GitHub release created

### Recent Completions

#### CLI Bundling & Global Installation (Today)
- Bundled CLI with esbuild for proper global module resolution
- Added wrapper script (`cv-wrapper.sh`) to set NODE_PATH for native modules
- Fixed pnpm workspace module resolution issues
- Removed old pnpm global link at `~/.local/share/pnpm/cv`

#### API Key Setup Enhancement (Today)
- Added `cv auth setup` command with browser auto-launch
- Supports: GitHub, Anthropic, OpenAI, OpenRouter
- Added `--no-browser` flag for headless environments
- Integrated auth setup prompt into `cv init` flow
- Added WSL detection to open URLs in Windows browser

#### cvPRD Integration (Previous Session)
- Created `@cv-git/prd-client` package
- Integrated PRD context into AI code generation
- Added `--prd` flag to `cv do` command
- Added `cvprd` config section to CVConfig type

### Known Issues
- WSL: Opens default Windows browser (Edge/IE) - user needs to set Chrome as default in Windows
- WSL: Keytar not available, requires `CV_MASTER_PASSWORD` env var for encrypted file storage

## Next Steps

### High Priority
1. **Test remaining auth flows** - Verify Anthropic, OpenAI, OpenRouter setup works correctly
2. **Test cv init integration** - Verify auth setup prompt works in new repos
3. **Documentation** - Update README with new auth setup instructions

### Medium Priority
4. **Cost reduction for CLI** - Implement local embeddings and caching (discussed but not started)
5. **cvPRD bidirectional sync** - Currently one-way (PRD -> code), need code -> PRD updates
6. **Performance testing** - Run benchmarks on larger codebases

### Lower Priority
7. **Minify bundle** - Current bundle is 4.5MB, could be reduced
8. **Native module handling** - Consider better approach than NODE_PATH wrapper

## File Locations

### Key Files Modified Today
- `/packages/cli/package.json` - Added esbuild bundling
- `/packages/cli/src/commands/auth.ts` - Browser launch + WSL support
- `/packages/cli/src/commands/init.ts` - Auth setup integration
- `/packages/cli/dist/cv-wrapper.sh` - Global CLI wrapper script
- `/packages/credentials/package.json` - Added exports field

### Global Installation
- Symlink: `/usr/local/bin/cv` -> `/home/jwscho/cv-git/packages/cli/dist/cv-wrapper.sh`
- Old pnpm link removed: `~/.local/share/pnpm/cv`

## Commands Reference

```bash
# Auth setup
cv auth setup              # All services with browser
cv auth setup github       # Single service
cv auth setup --no-browser # Without browser launch
cv auth list               # List stored credentials
cv auth test github        # Test authentication

# For WSL without keychain
export CV_MASTER_PASSWORD="your-password"
```

## Git Status
- Branch: main
- All changes committed and pushed to origin
- Latest commit: `fix: bundle CLI for global installation and add WSL support`
